<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IT+ v45 — WhiteStack (Teacher+ • Support it • ψ-Lattice)</title>
<style>
/* Light theme (default) */
:root {
  --bg: #ffffff;
  --tx: #0f172a;
  --mut: #64748b;
  --panel: #f8fafc;
  --bd: #e5e7eb;
  --accent: #2563eb;
  --ok: #16a34a;
  --warn: #f59e0b;
  --bad: #ef4444;
  --vio: #7c3aed;
}
[data-theme="dark"] {
  --bg: #0b0c10;
  --tx: #e8eef6;
  --mut: #9aa4b2;
  --panel: #0f1115;
  --bd: #1d2330;
  --accent: #60a5fa;
  --ok: #22c55e;
  --warn: #f59e0b;
  --bad: #f87171;
  --vio: #a78bfa;
}
* {
  box-sizing: border-box;
}
html, body {
  height: 100%;
}
body {
  margin: 0;
  background: var(--bg);
  color: var(--tx);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, Arial;
}
a {
  color: var(--accent);
  text-decoration: none;
}
.wrap {
  max-width: 1120px;
  margin: 0 auto;
  padding: 14px;
}
.header {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
}
.brand {
  display: flex;
  align-items: center;
  gap: 10px;
}
.badge {
  border: 1px solid var(--bd);
  color: var(--mut);
  border-radius: 999px;
  padding: 3px 8px;
  font-size: 12px;
}
.row {
  display: grid;
  grid-template-columns: 280px 1fr 320px;
  gap: 14px;
  margin-top: 12px;
}
.col {
  background: var(--panel);
  border: 1px solid var(--bd);
  border-radius: 12px;
  padding: 12px;
  min-height: 520px;
}
h1 {
  font-size: 18px;
  margin: 0;
}
h2 {
  font-size: 16px;
  margin: 0 0 8px;
}
.small {
  font-size: 12px;
  color: var(--mut);
}
.label {
  font-size: 12px;
  color: var(--mut);
  margin: 8px 0 6px;
}
.select, .input, .area {
  width: 100%;
  background: #fff;
  border: 1px solid var(--bd);
  border-radius: 10px;
  padding: 10px;
  color: var(--tx);
}
[data-theme="dark"] .select,
[data-theme="dark"] .input,
[data-theme="dark"] .area {
  background: #0e1118;
  color: #e8eef6;
}
.area {
  min-height: 150px;
  resize: vertical;
}
.chat-box {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.chat-input {
  width: 100%;
  height: 40px;
  margin-bottom: 20px;
  font-size: 14px;
}
.chat-output {
  width: 100%;
  height: 300px;
  padding: 12px;
  font-size: 14px;
  overflow-y: auto;
  background-color: var(--panel);
  border: 1px solid var(--bd);
  border-radius: 10px;
  resize: none;
}
.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border: 1px solid var(--bd);
  border-radius: 10px;
  background: #fff;
  color: var(--tx);
  cursor: pointer;
}
.btn:hover {
  border-color: #cbd5e1;
}
[data-theme="dark"] .btn {
  background: #101420;
  color: #e8eef6;
}
.btn.primary {
  background: linear-gradient(180deg, #e2e8f0, #dbeafe);
}
[data-theme="dark"] .btn.primary {
  background: linear-gradient(180deg, #1b2232, #141a27);
}
.stack {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.notice {
  border-left: 3px solid var(--warn);
  background: #fff;
  border: 1px solid var(--bd);
  border-radius: 10px;
  padding: 10px;
}
[data-theme="dark"] .notice {
  background: #11151f;
}
.notice.success {
  border-left-color: var(--ok);
}
.notice.warn {
  border-left-color: var(--warn);
}
.notice.danger {
  border-left-color: var(--bad);
}
.kv {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 8px;
}
.stat {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border: 1px dashed var(--bd);
  border-radius: 10px;
  padding: 8px;
}
.pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: 1px solid var(--bd);
  border-radius: 999px;
  padding: 2px 8px;
}
.flex {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.hr {
  height: 1px;
  background: var(--bd);
  margin: 10px 0;
}
kbd {
  background: #eef2ff;
  border: 1px solid #c7d2fe;
  border-radius: 6px;
  padding: 2px 6px;
  color: #312e81;
}
[data-theme="dark"] kbd {
  background: #0e1220;
  border-color: #222a3a;
  color: #c9d3e3;
}
.tagline {
  color: var(--mut);
}
.checks {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.table {
  width: 100%;
  border-collapse: collapse;
}
.table th, .table td {
  border: 1px solid var(--bd);
  padding: 6px;
  text-align: left;
  font-size: 12px;
}
</style>
</head>
<body>
<div class="wrap">
  <div class="header">
    <div class="brand">
      <h1>IT+ ψ-Lattice — WhiteStack</h1>
      <span class="badge">v45 • Teacher+ • Support it</span>
      <span class="badge" id="themeBadge">Light</span>
    </div>
    <div class="flex">
      <button class="btn" id="themeBtn">Toggle Theme</button>
      <button class="btn" id="exportBtn">Export</button>
      <label class="btn" for="importFile">Import<input id="importFile" type="file" accept="application/json" hidden></label>
      <button class="btn" id="demoBtn">Load Demo</button>
      <button class="btn primary" id="resetBtn">Reset</button>
    </div>
  </div>

  <p class="tagline">Six families, sixteen modules, one adaptive mind. Teacher+ mode and Support it included. Everything runs locally for quick demos.</p>

  <div class="row">
    <!-- LEFT -->
    <div class="col">
      <h2>Navigator it</h2>
      <div class="label">Family</div>
      <select id="family" class="select">
        <option>Reason</option>
        <option>Reflection</option>
        <option>Connection</option>
        <option>Creation</option>
        <option selected>Systems</option>
        <option>Support</option>
      </select>

      <div class="label">Module</div>
      <select id="module" class="select"></select>

      <div class="label">Tone</div>
      <select id="tone" class="select">
        <option>Neutral</option><option>Warm</option><option>Direct</option>
        <option>Playful</option><option>Clinical</option><option>Encouraging</option>
      </select>

      <div class="label">Intent</div>
      <select id="intent" class="select">
        <option>Explore</option><option>Clarify</option><option>Resolve</option>
        <option>Create</option><option>Reflect</option><option>Coach</option><option>Support</option>
      </select>

      <div class="hr"></div>
      <div class="stack">
        <button class="btn" id="runBtn">Run Module ⏵</button>
        <button class="btn" id="handoffBtn">Handoff → SYNTH_LOOP</button>
      </div>

      <div class="hr"></div>
      <div class="stack">
        <div class="label">Adult it PIN</div>
        <input id="adultPin" class="input" placeholder="0000 (default)">
        <button class="btn" id="setAdultPin">Set/Confirm</button>
      </div>

      <div class="hr"></div>
      <div class="stack">
        <div class="label">Teacher+ Presets</div>
        <select id="grade" class="select">
          <option value="">Off</option>
          <option>9</option><option>10</option><option>11</option><option>12</option>
        </select>
        <button class="btn" id="teacherPlanBtn">Apply Weekly Plan</button>
      </div>

      <div class="hr"></div>
      <div class="stack">
        <div class="label">Seed / Notes</div>
        <textarea id="seed" class="area" placeholder="Claim, topic, trigger, or goal…"></textarea>
      </div>

      <!-- Share Link Generator -->
      <div class="hr"></div>
      <div class="stack">
        <button class="btn" id="generateLink">Generate Share Link</button>
        <input type="text" id="shareLink" class="input" readonly placeholder="Shareable Link">
      </div>
    </div>

    <!-- MID -->
    <div class="col" id="mid">
      <h2 id="modTitle">Console</h2>
      <div id="console" class="stack"></div>
      <div class="flex" style="margin-top:8px">
        <button class="btn" id="copyOut">Copy Output</button>
        <span class="small">Tip: <kbd>Cmd/Ctrl + Enter</kbd> runs the selected module</span>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="col">
      <h2>State</h2>
      <div class="kv">
        <div class="stat"><span>Coherence</span><b id="coh">0.72</b></div>
        <div class="stat"><span>Entropy</span><b id="ent">0.28</b></div>
        <div class="stat"><span>Flow</span><b id="flow">0.41</b></div>
        <div class="stat"><span>Tone</span><b id="toneStat">Neutral</b></div>
        <div class="stat"><span>Intent</span><b id="intentStat">Explore</b></div>
        <div class="stat"><span>Sessions</span><b id="sess">0</b></div>
      </div>

      <div class="hr"></div>
      <h2>Usage Mix</h2>
      <div id="usage" class="checks"></div>

      <div class="hr"></div>
      <h2>Teacher+ Rubrics</h2>
      <table class="table" id="rubricTbl">
        <thead><tr><th>Clarity</th><th>Evidence</th><th>Empathy</th><th>Brevity</th><th>Follow-through</th></tr></thead>
        <tbody><tr><td>—</td><td>—</td><td>—</td><td>—</td><td>—</td></tr></tbody>
      </table>

      <div class="hr"></div>
      <div class="notice warn small">
        SYNTH_LOOP integrates insights. Use “Handoff → SYNTH_LOOP” after good runs.
      </div>
    </div>
  </div>
</div>

<script>
// Insert your JavaScript here
</script>

</body>
</html>
